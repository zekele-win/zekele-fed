# workers_dev = true

name = "fed"
main = ".svelte-kit/cloudflare/_worker.js"

compatibility_date = "2025-12-01"
compatibility_flags = ["nodejs_compat"]

assets = { binding = "ASSETS", directory = ".cloudflare/public" }

kv_namespaces = [
  { binding = "KV_FED", id = "ec88ec32d5934885b66648bd651e385a", preview_id = "e547cbdc7a804134b466a18b82fa9821" },
]

[triggers]
crons = [
  # 1. Mondayâ€“Thursday (UTC): run every 5 minutes all day
  "*/5 * * * MON-THU",

  # 2. Friday (UTC): run every 5 minutes from 00:00 to 21:55
  #    (before CME interest rate futures close on Friday afternoon ET)
  "*/5 0-21 * * FRI",

  # 3. Sunday (UTC): run every 5 minutes from 22:00 to 23:55
  #    (after CME interest rate futures reopen on Sunday evening ET)
  "*/5 22-23 * * SUN",

  # 4. Fallback: run every 6 hours to cover inactive periods
  # "0 */6 * * *",
]

[observability]
enabled = false
